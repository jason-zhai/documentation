Confluence.PageLoadingIndicator=function(b){function a(){return $(".confluence-page-loading-blanket",b)}function c(){return $(".confluence-loading-indicator",b)}return{show:function(){if(a().length===0){$(b).append(Confluence.Templates.pageLoadingIndicator())}a().show();c().spin({lines:12,length:8,width:4,radius:10,trail:60,speed:1.5,color:"#F0F0F0"})},hide:function(){c().stop();a().hide()},showUntilResolved:function(d,e){this.show();d.always(_.bind(this.hide,this));e&&d.fail(function(){AJS.messages.error(".confluence-page-loading-errors",{body:e})})},showUntilDialogVisible:function(d,f){var e=this,f=f||AJS.I18n.getText("dialog.deferred.error.loading");var g=$(".aui-dialog:visible");if(!g.length){e.show()}d.fail(function(){e.hide();AJS.messages.error(".confluence-page-loading-errors",{body:f})});AJS.bind("show.dialog",function(){e.hide()})},destroy:function(){b.remove(".confluence-page-loading-blanket")}}};