AJS.Confluence.SpacePermissions={updateField:function(d,c){var a=AJS.$("#"+d);if(c!=""){var b=a.val();a.val(b==""?c:b+", "+c)}},updateGroupsField:function(a){AJS.Confluence.SpacePermissions.updateField("groups-to-add-autocomplete",a)},updateUsersField:function(a){AJS.Confluence.SpacePermissions.updateField("users-to-add-autocomplete",a)},setPermissionsState:function(b,a,c){a=a.replace(/'/g,"\\'");AJS.$("table#"+b+"PermissionsTable input[type='checkbox'][name$='_"+a+"']").each(function(){this.checked=c})}};AJS.$(document).ready(function(){var a=AJS.$("#select-options");AJS.$(".perms-dropdown-trigger").click(function(){var b=AJS.$(this);a.data("entity-type",b.data("entity-type")).data("entity-id",b.data("entity-id"))});a.find("a").click(function(d){var c=AJS.$(this);var b="";if(c.hasClass("select-all")){b="checked"}AJS.Confluence.SpacePermissions.setPermissionsState(a.data("entity-type"),a.data("entity-id"),b);d.preventDefault()})});